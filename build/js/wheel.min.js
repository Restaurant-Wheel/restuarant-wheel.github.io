
const colors=["FFFFFF","000000"]
const numSlices=10
var numRestaurants=0
const slices=[]
let rotation=0
let canvas
let context
let framesDrawn=0
function Slice(id,restaurant,color){this.id=id
this.restaurant=restaurant
this.color=color}
function initWheel(){console.log("Initializing wheel...")
for(var i=0;i<numSlices;i+=1){slice=new Slice(i,restaurants[i],colors[i%colors.length])
slices.push(slice)}
numRestaurants=numSlices
console.log("Initializing canvas...")
canvas=document.getElementById("wheelCanvas")
context=canvas.getContext('2d')
context.clearRect(0,0,context.width,context.height);context.fillStyle="slategray";spin()}
function rotate(){rotationFactor=Math.random()*100+200-framesDrawn;rotation+=Math.pow(rotationFactor,2)/100000;}
function spin(){console.log("Spinning...")
rotation=0;framesDrawn=0;draw();}
function draw(){context.setTransform(1,0,0,1,0,0);context.clearRect(0,0,canvas.width,canvas.height);context.translate(canvas.width/2,canvas.height/2);context.rotate(rotation);const wheelPos={x:canvas.width/2,y:canvas.height/2,radius:canvas.height/2,}
let lastAngle=0;const sliceArcLength=Math.PI*2/numSlices;slices.forEach(slice=>{context.beginPath();context.arc(0,0,wheelPos.radius,lastAngle,lastAngle+sliceArcLength);context.closePath();context.fillStyle=slice.color;context.fill();});framesDrawn+=1
if(framesDrawn<100){requestAnimationFrame(draw)}}